option solver gurobi;

var x {i in 1 .. 3, j in 1 .. 3} >= 0;
var a {j in 1 .. 3} >= 0;

maximize z: 21*x[1,1] + 11*x[1,2] + x[1,3] + 31*x[2,1] + 21*x[2,2] + 11*x[2,3] + 41*x[3,1] + 31*x[3,2] + 21*x[3,3] - a[1] - a[2] - a[3];

s.t. R1: x[1,1] + x[2,1] + x[3,1] - 10*a[1] = 3000;
s.t. R2: x[1,2] + x[2,2] + x[3,2] - 10*a[2] = 2000;
s.t. R3: x[1,3] + x[2,3] + x[3,3] - 10*a[3] = 1000;
s.t. R4 {i in 1 .. 3}: x[i,1] + x[i,2] + x[i,3] <= 5000; 
s.t. R5: sum {i in 1 .. 3, j in 1 .. 3} x[i,j] <= 14000;
s.t. R6: 2*x[1,1] - 4*x[2,1] - 2*x[3,1] >= 0;
s.t. R7: 4*x[1,2] - 2*x[2,2] >= 0;
s.t. R8: 6*x[1,3] + 2*x[3,3] >= 0;
s.t. R9: -0.005*x[1,1] + 0.01*x[2,1]+ 0.02*x[3,1] <= 0;
s.t. R10:-0.015*x[1,2] + 0.01*x[3,2] <= 0;
s.t. R11:-0.005*x[1,3] + 0.01*x[2,3] + 0.02*x[3,3] <= 0;

# z* = 287750